{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\belya\\\\Cursor projects\\\\Budget tracker\\\\client\\\\src\\\\components\\\\TaskList.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskList = ({\n  refreshTrigger,\n  tasks,\n  employees\n}) => {\n  const [filters, setFilters] = useState({\n    status: 'all',\n    employee: 'all',\n    department: 'all'\n  });\n  const [groupBy, setGroupBy] = useState('none'); // none, employee, department\n  const [checkedTasks, setCheckedTasks] = useState(new Set());\n  const [notificationText, setNotificationText] = useState('');\n  const [uniqueTasks, setUniqueTasks] = useState([]);\n  const [bulkTaskInput, setBulkTaskInput] = useState('');\n\n  // Add deduplication for employees\n  const uniqueEmployees = [...new Map(employees.map(emp => [emp.id, emp])).values()];\n  useEffect(() => {\n    fetchData();\n  }, [refreshTrigger]);\n  useEffect(() => {\n    const seen = new Set();\n    const filtered = tasks.filter(task => {\n      const duplicate = seen.has(task.taskName);\n      seen.add(task.taskName);\n      return !duplicate;\n    });\n    setUniqueTasks(filtered);\n  }, [tasks]);\n  const fetchData = async () => {\n    try {\n      const [tasksResponse, employeesResponse] = await Promise.all([axios.get('http://localhost:5000/api/tasks', {\n        withCredentials: true\n      }), axios.get('http://localhost:5000/api/employees', {\n        withCredentials: true,\n        validateStatus: status => status === 200 || status === 403\n      })]);\n\n      // Process tasks\n      const tasksWithIds = tasksResponse.data.map((task, index) => ({\n        ...task,\n        id: task.id || `task-${Date.now()}-${index}`,\n        taskName: task.name\n      }));\n\n      // Only process employees if the request was successful\n      if (employeesResponse.status === 200) {\n        // Process data but don't set state - it comes from props\n        const processedEmployees = employeesResponse.data;\n        console.log('Fetched employees:', processedEmployees);\n      } else {\n        console.warn('No permission to fetch employees');\n        // Optionally, show a user-friendly notification\n        alert('You do not have permission to view employee details.');\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      // Handle network errors or other issues\n      alert('An error occurred while fetching data. Please try again later.');\n    }\n  };\n  const getStatusClass = status => {\n    switch (status === null || status === void 0 ? void 0 : status.toLowerCase()) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'in progress':\n        return 'bg-blue-100 text-blue-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  const filterTasks = tasks => {\n    return tasks.filter(task => {\n      if (filters.status !== 'all' && task.status !== filters.status) return false;\n      if (filters.employee !== 'all' && task.employee !== filters.employee) return false;\n      if (filters.department !== 'all' && task.department !== filters.department) return false;\n      return true;\n    });\n  };\n  const groupTasks = tasks => {\n    if (groupBy === 'none') return {\n      'All Tasks': tasks\n    };\n    return tasks.reduce((groups, task) => {\n      const key = task[groupBy] || 'Unassigned';\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(task);\n      return groups;\n    }, {});\n  };\n  const getUniqueDepartments = () => {\n    return [...new Set(employees.map(emp => emp.department))];\n  };\n  const filteredTasks = filterTasks(tasks);\n  const groupedTasks = groupTasks(filteredTasks);\n  const handleCheckTask = taskId => {\n    setCheckedTasks(prev => {\n      const newChecked = new Set(prev);\n      if (newChecked.has(taskId)) {\n        newChecked.delete(taskId);\n      } else {\n        newChecked.add(taskId);\n      }\n      return newChecked;\n    });\n  };\n  const handleSendNotifications = async () => {\n    if (checkedTasks.size === 0) {\n      alert('Please select at least one task to send notifications');\n      return;\n    }\n    if (!notificationText.trim()) {\n      alert('Please enter notification text');\n      return;\n    }\n    try {\n      var _response$data$result, _response$data$result2;\n      // Check authentication status first\n      const authResponse = await axios.get('http://localhost:5000/auth/status', {\n        withCredentials: true\n      });\n      if (!authResponse.data.authenticated) {\n        alert('Please log in to send notifications');\n        return;\n      }\n\n      // Get selected tasks with their employee emails\n      const selectedTasks = tasks.filter(task => checkedTasks.has(task.id));\n      const notifications = selectedTasks.map(task => {\n        var _employees$find;\n        const employeeEmail = (_employees$find = employees.find(emp => emp.name === task.employee)) === null || _employees$find === void 0 ? void 0 : _employees$find.email;\n        if (!employeeEmail) {\n          throw new Error(`No email found for employee: ${task.employee}`);\n        }\n        return {\n          taskId: task.id,\n          taskName: task.name,\n          employeeName: task.employee,\n          email: employeeEmail,\n          message: notificationText\n        };\n      });\n      console.log('Preparing to send notifications:', notifications);\n\n      // Send notifications to the backend with credentials\n      const response = await axios.post('http://localhost:5000/api/notifications/send', {\n        notifications\n      }, {\n        withCredentials: true,\n        // Include cookies for authentication\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('Notifications sent:', response.data);\n\n      // Check response structure and handle accordingly\n      const successCount = ((_response$data$result = response.data.results) === null || _response$data$result === void 0 ? void 0 : _response$data$result.filter(r => r.success).length) || 0;\n      const failedCount = ((_response$data$result2 = response.data.results) === null || _response$data$result2 === void 0 ? void 0 : _response$data$result2.filter(r => !r.success).length) || 0;\n      if (successCount > 0) {\n        const successEmails = response.data.results.filter(r => r.success).map(r => r.email);\n        alert(`Notifications sent successfully:\\n\\n${successEmails.join('\\n')}`);\n\n        // Clear selections and text\n        setCheckedTasks(new Set());\n        setNotificationText('');\n      } else {\n        alert('No notifications were sent. Please check your selection and try again.');\n      }\n\n      // Log any failed notifications\n      if (failedCount > 0) {\n        const failedNotifications = response.data.results.filter(r => !r.success).map(r => `${r.email}: ${r.error}`);\n        console.warn('Failed notifications:', failedNotifications);\n      }\n    } catch (error) {\n      console.error('Error sending notifications:', error);\n\n      // More detailed error handling\n      if (error.response) {\n        var _error$response$data, _error$response$data2;\n        // The request was made and the server responded with a status code\n        const errorMessage = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || ((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.message) || 'Unknown server error';\n        alert(`Failed to send notifications: ${errorMessage}`);\n      } else if (error.request) {\n        // The request was made but no response was received\n        alert('No response received from the server. Please check your network connection.');\n      } else {\n        // Something happened in setting up the request\n        alert(`Error: ${error.message}`);\n      }\n    }\n  };\n  const handleBulkDataSubmission = async () => {\n    try {\n      console.log('=== BULK DATA SUBMISSION STARTED ===');\n\n      // Process employee-department updates first\n      if (parsedEmployeeDepartment.length > 0) {\n        try {\n          // Create valid pairs with proper scoping and normalization\n          const validPairs = parsedEmployeeDepartment.map(pair => {\n            var _pair$employee, _pair$department, _pair$email;\n            return {\n              employee: ((_pair$employee = pair.employee) === null || _pair$employee === void 0 ? void 0 : _pair$employee.trim()) || '',\n              department: ((_pair$department = pair.department) === null || _pair$department === void 0 ? void 0 : _pair$department.trim()) || '',\n              email: (_pair$email = pair.email) === null || _pair$email === void 0 ? void 0 : _pair$email.trim().toLowerCase()\n            };\n          }).filter(pair => pair.employee && pair.department && pair.email);\n          console.log('Sending employee updates:', validPairs);\n\n          // Send updates using PUT request\n          const employeeResponse = await axios.put('http://localhost:5000/api/employee-departments', {\n            updates: validPairs\n          }, {\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            withCredentials: true\n          });\n          if (employeeResponse.status === 200) {\n            console.log('Successfully updated employee-departments');\n            console.log('Updated entries:', employeeResponse.data.updatedEntries);\n\n            // Refresh employee data after update\n            await fetchData();\n\n            // Show success message with details\n            if (employeeResponse.data.updatedCount > 0) {\n              alert(`Updated ${employeeResponse.data.updatedCount} employee entries`);\n            }\n          }\n        } catch (error) {\n          var _error$response, _error$response$data3;\n          console.error('Update error:', error);\n          alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data3 = _error$response.data) === null || _error$response$data3 === void 0 ? void 0 : _error$response$data3.error) || 'Update failed');\n          return;\n        }\n      }\n      // ... rest of the method remains the same\n    } catch (error) {\n      // Error handling\n      alert(error.message || 'Failed to submit bulk tasks');\n      console.error('Bulk task submission error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4 bg-[#f5f5f5]\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mb-6 bg-white rounded p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-6 text-center\",\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-medium mb-2\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.status,\n            onChange: e => setFilters({\n              ...filters,\n              status: e.target.value\n            }),\n            className: \"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Statuses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"in progress\",\n              children: \"In Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"completed\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-medium mb-2\",\n            children: \"Employee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.employee,\n            onChange: e => setFilters({\n              ...filters,\n              employee: e.target.value\n            }),\n            className: \"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Employees\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), uniqueEmployees.map(employee => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: employee.name,\n              children: employee.name\n            }, `employee-${employee.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-medium mb-2\",\n            children: \"Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filters.department,\n            onChange: e => setFilters({\n              ...filters,\n              department: e.target.value\n            }),\n            className: \"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Departments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), getUniqueDepartments().map(dept => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dept,\n              children: dept\n            }, dept, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-medium mb-2\",\n            children: \"Group By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: groupBy,\n            onChange: e => setGroupBy(e.target.value),\n            className: \"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"none\",\n              children: \"No Grouping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"employee\",\n              children: \"Employee\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"department\",\n              children: \"Department\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mb-6 bg-white rounded p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 items-end\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-medium mb-2\",\n            children: \"Notification Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: notificationText,\n            onChange: e => setNotificationText(e.target.value),\n            className: \"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\",\n            rows: \"2\",\n            placeholder: \"Enter notification text to send to selected employees\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendNotifications,\n          className: \"w-48 bg-black hover:bg-gray-800 text-white font-medium py-2 px-6 rounded\",\n          disabled: checkedTasks.size === 0 || !notificationText.trim(),\n          children: \"Send Notifications\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), Object.entries(groupedTasks).map(([group, tasks]) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto mb-6 bg-white rounded p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 border-b pb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold\",\n          children: group\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-50\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Task\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Employee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Department\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Due Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Actual end Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: tasks.map((task, index) => {\n              const taskId = task.id || `task-${Date.now()}-${index}`;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: checkedTasks.has(taskId),\n                    onChange: () => handleCheckTask(taskId),\n                    className: \"h-4 w-4 text-black focus:ring-black border-gray-300 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: task.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: task.employee\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: task.department\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: task.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: task.endDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(task.status)}`,\n                    children: task.status || 'Pending'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 23\n                }, this)]\n              }, `task-${taskId}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this)]\n    }, `group-${group}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 5\n  }, this);\n};\nexport default TaskList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","TaskList","refreshTrigger","tasks","employees","filters","setFilters","status","employee","department","groupBy","setGroupBy","checkedTasks","setCheckedTasks","Set","notificationText","setNotificationText","uniqueTasks","setUniqueTasks","bulkTaskInput","setBulkTaskInput","uniqueEmployees","Map","map","emp","id","values","fetchData","seen","filtered","filter","task","duplicate","has","taskName","add","tasksResponse","employeesResponse","Promise","all","get","withCredentials","validateStatus","tasksWithIds","data","index","Date","now","name","processedEmployees","console","log","warn","alert","error","getStatusClass","toLowerCase","filterTasks","groupTasks","reduce","groups","key","push","getUniqueDepartments","filteredTasks","groupedTasks","handleCheckTask","taskId","prev","newChecked","delete","handleSendNotifications","size","trim","_response$data$result","_response$data$result2","authResponse","authenticated","selectedTasks","notifications","_employees$find","employeeEmail","find","email","Error","employeeName","message","response","post","headers","successCount","results","r","success","length","failedCount","successEmails","join","failedNotifications","_error$response$data","_error$response$data2","errorMessage","request","handleBulkDataSubmission","parsedEmployeeDepartment","validPairs","pair","_pair$employee","_pair$department","_pair$email","employeeResponse","put","updates","updatedEntries","updatedCount","_error$response","_error$response$data3","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","dept","rows","placeholder","onClick","disabled","Object","entries","group","type","checked","date","endDate"],"sources":["C:/Users/belya/Cursor projects/Budget tracker/client/src/components/TaskList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst TaskList = ({ refreshTrigger, tasks, employees }) => {\n  const [filters, setFilters] = useState({\n    status: 'all',\n    employee: 'all',\n    department: 'all',\n  });\n  const [groupBy, setGroupBy] = useState('none'); // none, employee, department\n  const [checkedTasks, setCheckedTasks] = useState(new Set());\n  const [notificationText, setNotificationText] = useState('');\n  const [uniqueTasks, setUniqueTasks] = useState([]);\n  const [bulkTaskInput, setBulkTaskInput] = useState('');\n\n  // Add deduplication for employees\n  const uniqueEmployees = [...new Map(employees.map(emp => \n    [emp.id, emp]\n  )).values()];\n\n  useEffect(() => {\n    fetchData();\n  }, [refreshTrigger]);\n\n  useEffect(() => {\n    const seen = new Set();\n    const filtered = tasks.filter(task => {\n      const duplicate = seen.has(task.taskName);\n      seen.add(task.taskName);\n      return !duplicate;\n    });\n    setUniqueTasks(filtered);\n  }, [tasks]);\n\n  const fetchData = async () => {\n    try {\n      const [tasksResponse, employeesResponse] = await Promise.all([\n        axios.get('http://localhost:5000/api/tasks', { withCredentials: true }),\n        axios.get('http://localhost:5000/api/employees', { \n          withCredentials: true,\n          validateStatus: (status) => status === 200 || status === 403 \n        })\n      ]);\n      \n      // Process tasks\n      const tasksWithIds = tasksResponse.data.map((task, index) => ({\n        ...task,\n        id: task.id || `task-${Date.now()}-${index}`,\n        taskName: task.name\n      }));\n\n      // Only process employees if the request was successful\n      if (employeesResponse.status === 200) {\n        // Process data but don't set state - it comes from props\n        const processedEmployees = employeesResponse.data;\n        console.log('Fetched employees:', processedEmployees);\n      } else {\n        console.warn('No permission to fetch employees');\n        // Optionally, show a user-friendly notification\n        alert('You do not have permission to view employee details.');\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      // Handle network errors or other issues\n      alert('An error occurred while fetching data. Please try again later.');\n    }\n  };\n\n  const getStatusClass = (status) => {\n    switch (status?.toLowerCase()) {\n      case 'completed':\n        return 'bg-green-100 text-green-800';\n      case 'in progress':\n        return 'bg-blue-100 text-blue-800';\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const filterTasks = (tasks) => {\n    return tasks.filter(task => {\n      if (filters.status !== 'all' && task.status !== filters.status) return false;\n      if (filters.employee !== 'all' && task.employee !== filters.employee) return false;\n      if (filters.department !== 'all' && task.department !== filters.department) return false;\n      return true;\n    });\n  };\n\n  const groupTasks = (tasks) => {\n    if (groupBy === 'none') return { 'All Tasks': tasks };\n    \n    return tasks.reduce((groups, task) => {\n      const key = task[groupBy] || 'Unassigned';\n      if (!groups[key]) {\n        groups[key] = [];\n      }\n      groups[key].push(task);\n      return groups;\n    }, {});\n  };\n\n  const getUniqueDepartments = () => {\n    return [...new Set(employees.map(emp => emp.department))];\n  };\n\n  const filteredTasks = filterTasks(tasks);\n  const groupedTasks = groupTasks(filteredTasks);\n\n  const handleCheckTask = (taskId) => {\n    setCheckedTasks(prev => {\n      const newChecked = new Set(prev);\n      if (newChecked.has(taskId)) {\n        newChecked.delete(taskId);\n      } else {\n        newChecked.add(taskId);\n      }\n      return newChecked;\n    });\n  };\n\n  const handleSendNotifications = async () => {\n    if (checkedTasks.size === 0) {\n      alert('Please select at least one task to send notifications');\n      return;\n    }\n\n    if (!notificationText.trim()) {\n      alert('Please enter notification text');\n      return;\n    }\n\n    try {\n      // Check authentication status first\n      const authResponse = await axios.get('http://localhost:5000/auth/status', { \n        withCredentials: true \n      });\n\n      if (!authResponse.data.authenticated) {\n        alert('Please log in to send notifications');\n        return;\n      }\n\n      // Get selected tasks with their employee emails\n      const selectedTasks = tasks.filter(task => checkedTasks.has(task.id));\n      const notifications = selectedTasks.map(task => {\n        const employeeEmail = employees.find(emp => emp.name === task.employee)?.email;\n        if (!employeeEmail) {\n          throw new Error(`No email found for employee: ${task.employee}`);\n        }\n        return {\n          taskId: task.id,\n          taskName: task.name,\n          employeeName: task.employee,\n          email: employeeEmail,\n          message: notificationText\n        };\n      });\n\n      console.log('Preparing to send notifications:', notifications);\n\n      // Send notifications to the backend with credentials\n      const response = await axios.post(\n        'http://localhost:5000/api/notifications/send', \n        { notifications },\n        { \n          withCredentials: true,  // Include cookies for authentication\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      console.log('Notifications sent:', response.data);\n      \n      // Check response structure and handle accordingly\n      const successCount = response.data.results?.filter(r => r.success).length || 0;\n      const failedCount = response.data.results?.filter(r => !r.success).length || 0;\n\n      if (successCount > 0) {\n        const successEmails = response.data.results\n          .filter(r => r.success)\n          .map(r => r.email);\n        \n        alert(`Notifications sent successfully:\\n\\n${successEmails.join('\\n')}`);\n        \n        // Clear selections and text\n        setCheckedTasks(new Set());\n        setNotificationText('');\n      } else {\n        alert('No notifications were sent. Please check your selection and try again.');\n      }\n\n      // Log any failed notifications\n      if (failedCount > 0) {\n        const failedNotifications = response.data.results\n          .filter(r => !r.success)\n          .map(r => `${r.email}: ${r.error}`);\n        \n        console.warn('Failed notifications:', failedNotifications);\n      }\n    } catch (error) {\n      console.error('Error sending notifications:', error);\n      \n      // More detailed error handling\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        const errorMessage = error.response.data?.error || \n                             error.response.data?.message || \n                             'Unknown server error';\n        \n        alert(`Failed to send notifications: ${errorMessage}`);\n      } else if (error.request) {\n        // The request was made but no response was received\n        alert('No response received from the server. Please check your network connection.');\n      } else {\n        // Something happened in setting up the request\n        alert(`Error: ${error.message}`);\n      }\n    }\n  };\n\n  const handleBulkDataSubmission = async () => {\n    try {\n      console.log('=== BULK DATA SUBMISSION STARTED ===');\n      \n      // Process employee-department updates first\n      if (parsedEmployeeDepartment.length > 0) {\n        try {\n          // Create valid pairs with proper scoping and normalization\n          const validPairs = parsedEmployeeDepartment.map(pair => ({\n            employee: pair.employee?.trim() || '',\n            department: pair.department?.trim() || '',\n            email: pair.email?.trim().toLowerCase()\n          })).filter(pair => pair.employee && pair.department && pair.email);\n\n          console.log('Sending employee updates:', validPairs);\n          \n          // Send updates using PUT request\n          const employeeResponse = await axios.put(\n            'http://localhost:5000/api/employee-departments',\n            { updates: validPairs },\n            { \n              headers: { 'Content-Type': 'application/json' },\n              withCredentials: true\n            }\n          );\n\n          if (employeeResponse.status === 200) {\n            console.log('Successfully updated employee-departments');\n            console.log('Updated entries:', employeeResponse.data.updatedEntries);\n            \n            // Refresh employee data after update\n            await fetchData();\n            \n            // Show success message with details\n            if (employeeResponse.data.updatedCount > 0) {\n              alert(`Updated ${employeeResponse.data.updatedCount} employee entries`);\n            }\n          }\n\n        } catch (error) {\n          console.error('Update error:', error);\n          alert(error.response?.data?.error || 'Update failed');\n          return;\n        }\n      }\n      // ... rest of the method remains the same\n    } catch (error) {\n      // Error handling\n      alert(error.message || 'Failed to submit bulk tasks');\n      console.error('Bulk task submission error:', error);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4 bg-[#f5f5f5]\">\n      {/* Filters */}\n      <div className=\"max-w-7xl mx-auto mb-6 bg-white rounded p-6\">\n        <h2 className=\"text-xl font-semibold mb-6 text-center\">Filters</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <div>\n            <label className=\"block text-gray-700 text-sm font-medium mb-2\">\n              Status\n            </label>\n            <select\n              value={filters.status}\n              onChange={(e) => setFilters({ ...filters, status: e.target.value })}\n              className=\"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\"\n            >\n              <option value=\"all\">All Statuses</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"in progress\">In Progress</option>\n              <option value=\"completed\">Completed</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-gray-700 text-sm font-medium mb-2\">\n              Employee\n            </label>\n            <select\n              value={filters.employee}\n              onChange={(e) => setFilters({ ...filters, employee: e.target.value })}\n              className=\"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\"\n            >\n              <option value=\"all\">All Employees</option>\n              {uniqueEmployees.map((employee) => (\n                <option \n                  key={`employee-${employee.id}`}\n                  value={employee.name}\n                >\n                  {employee.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-gray-700 text-sm font-medium mb-2\">\n              Department\n            </label>\n            <select\n              value={filters.department}\n              onChange={(e) => setFilters({ ...filters, department: e.target.value })}\n              className=\"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\"\n            >\n              <option value=\"all\">All Departments</option>\n              {getUniqueDepartments().map(dept => (\n                <option key={dept} value={dept}>{dept}</option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-gray-700 text-sm font-medium mb-2\">\n              Group By\n            </label>\n            <select\n              value={groupBy}\n              onChange={(e) => setGroupBy(e.target.value)}\n              className=\"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\"\n            >\n              <option value=\"none\">No Grouping</option>\n              <option value=\"employee\">Employee</option>\n              <option value=\"department\">Department</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Notification Section */}\n      <div className=\"max-w-7xl mx-auto mb-6 bg-white rounded p-6\">\n        <div className=\"flex space-x-4 items-end\">\n          <div className=\"flex-grow\">\n            <label className=\"block text-gray-700 text-sm font-medium mb-2\">\n              Notification Text\n            </label>\n            <textarea\n              value={notificationText}\n              onChange={(e) => setNotificationText(e.target.value)}\n              className=\"w-full border border-gray-300 rounded p-2 focus:outline-none focus:border-gray-400\"\n              rows=\"2\"\n              placeholder=\"Enter notification text to send to selected employees\"\n            />\n          </div>\n          <button\n            onClick={handleSendNotifications}\n            className=\"w-48 bg-black hover:bg-gray-800 text-white font-medium py-2 px-6 rounded\"\n            disabled={checkedTasks.size === 0 || !notificationText.trim()}\n          >\n            Send Notifications\n          </button>\n        </div>\n      </div>\n\n      {/* Tasks Table */}\n      {Object.entries(groupedTasks).map(([group, tasks]) => (\n        <div key={`group-${group}`} className=\"max-w-7xl mx-auto mb-6 bg-white rounded p-6\">\n          <div className=\"mb-4 border-b pb-4\">\n            <h3 className=\"text-lg font-semibold\">{group}</h3>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Select\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Task\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Employee\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Department\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Due Date\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actual end Date\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {tasks.map((task, index) => {\n                  const taskId = task.id || `task-${Date.now()}-${index}`;\n                  return (\n                    <tr \n                      key={`task-${taskId}`}\n                      className=\"hover:bg-gray-50\"\n                    >\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <input\n                          type=\"checkbox\"\n                          checked={checkedTasks.has(taskId)}\n                          onChange={() => handleCheckTask(taskId)}\n                          className=\"h-4 w-4 text-black focus:ring-black border-gray-300 rounded\"\n                        />\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {task.name}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {task.employee}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {task.department}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {task.date}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        {task.endDate}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusClass(task.status)}`}>\n                          {task.status || 'Pending'}\n                        </span>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default TaskList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}