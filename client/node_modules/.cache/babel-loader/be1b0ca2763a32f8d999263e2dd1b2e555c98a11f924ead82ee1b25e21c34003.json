{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';// Async thunks\nexport const fetchGoals=createAsyncThunk('goals/fetchGoals',async()=>{const response=await axios.get('http://localhost:5000/api/goals',{withCredentials:true});return response.data;});export const saveGoals=createAsyncThunk('goals/saveGoals',async goals=>{const response=await axios.post('http://localhost:5000/api/goals',goals,{withCredentials:true});return response.data;});const goalsSlice=createSlice({name:'goals',initialState:{data:{},status:'idle',error:null},reducers:{updateGoal:(state,action)=>{const{department,kpi,field,value}=action.payload;if(!state.data[department]){state.data[department]={};}if(!state.data[department][kpi]){state.data[department][kpi]={};}state.data[department][kpi][field]=value;}},extraReducers:builder=>{builder.addCase(fetchGoals.pending,state=>{state.status='loading';}).addCase(fetchGoals.fulfilled,(state,action)=>{state.status='succeeded';state.data=action.payload;}).addCase(fetchGoals.rejected,(state,action)=>{state.status='failed';state.error=action.error.message;}).addCase(saveGoals.pending,state=>{state.status='saving';}).addCase(saveGoals.fulfilled,(state,action)=>{state.status='succeeded';state.data=action.payload;}).addCase(saveGoals.rejected,(state,action)=>{state.status='failed';state.error=action.error.message;});}});export const{updateGoal}=goalsSlice.actions;export default goalsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchGoals","response","get","withCredentials","data","saveGoals","goals","post","goalsSlice","name","initialState","status","error","reducers","updateGoal","state","action","department","kpi","field","value","payload","extraReducers","builder","addCase","pending","fulfilled","rejected","message","actions","reducer"],"sources":["C:/Users/belya/Cursor projects/Budget tracker/client/src/store/goalsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// Async thunks\r\nexport const fetchGoals = createAsyncThunk(\r\n  'goals/fetchGoals',\r\n  async () => {\r\n    const response = await axios.get('http://localhost:5000/api/goals', { withCredentials: true });\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const saveGoals = createAsyncThunk(\r\n  'goals/saveGoals',\r\n  async (goals) => {\r\n    const response = await axios.post('http://localhost:5000/api/goals', goals, { withCredentials: true });\r\n    return response.data;\r\n  }\r\n);\r\n\r\nconst goalsSlice = createSlice({\r\n  name: 'goals',\r\n  initialState: {\r\n    data: {},\r\n    status: 'idle',\r\n    error: null\r\n  },\r\n  reducers: {\r\n    updateGoal: (state, action) => {\r\n      const { department, kpi, field, value } = action.payload;\r\n      if (!state.data[department]) {\r\n        state.data[department] = {};\r\n      }\r\n      if (!state.data[department][kpi]) {\r\n        state.data[department][kpi] = {};\r\n      }\r\n      state.data[department][kpi][field] = value;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchGoals.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchGoals.fulfilled, (state, action) => {\r\n        state.status = 'succeeded';\r\n        state.data = action.payload;\r\n      })\r\n      .addCase(fetchGoals.rejected, (state, action) => {\r\n        state.status = 'failed';\r\n        state.error = action.error.message;\r\n      })\r\n      .addCase(saveGoals.pending, (state) => {\r\n        state.status = 'saving';\r\n      })\r\n      .addCase(saveGoals.fulfilled, (state, action) => {\r\n        state.status = 'succeeded';\r\n        state.data = action.payload;\r\n      })\r\n      .addCase(saveGoals.rejected, (state, action) => {\r\n        state.status = 'failed';\r\n        state.error = action.error.message;\r\n      });\r\n  }\r\n});\r\n\r\nexport const { updateGoal } = goalsSlice.actions;\r\n\r\nexport default goalsSlice.reducer; "],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AACA,MAAO,MAAM,CAAAC,UAAU,CAAGF,gBAAgB,CACxC,kBAAkB,CAClB,SAAY,CACV,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAF,KAAK,CAACG,GAAG,CAAC,iCAAiC,CAAE,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CAC9F,MAAO,CAAAF,QAAQ,CAACG,IAAI,CACtB,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAGP,gBAAgB,CACvC,iBAAiB,CACjB,KAAO,CAAAQ,KAAK,EAAK,CACf,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAF,KAAK,CAACQ,IAAI,CAAC,iCAAiC,CAAED,KAAK,CAAE,CAAEH,eAAe,CAAE,IAAK,CAAC,CAAC,CACtG,MAAO,CAAAF,QAAQ,CAACG,IAAI,CACtB,CACF,CAAC,CAED,KAAM,CAAAI,UAAU,CAAGX,WAAW,CAAC,CAC7BY,IAAI,CAAE,OAAO,CACbC,YAAY,CAAE,CACZN,IAAI,CAAE,CAAC,CAAC,CACRO,MAAM,CAAE,MAAM,CACdC,KAAK,CAAE,IACT,CAAC,CACDC,QAAQ,CAAE,CACRC,UAAU,CAAEA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC7B,KAAM,CAAEC,UAAU,CAAEC,GAAG,CAAEC,KAAK,CAAEC,KAAM,CAAC,CAAGJ,MAAM,CAACK,OAAO,CACxD,GAAI,CAACN,KAAK,CAACX,IAAI,CAACa,UAAU,CAAC,CAAE,CAC3BF,KAAK,CAACX,IAAI,CAACa,UAAU,CAAC,CAAG,CAAC,CAAC,CAC7B,CACA,GAAI,CAACF,KAAK,CAACX,IAAI,CAACa,UAAU,CAAC,CAACC,GAAG,CAAC,CAAE,CAChCH,KAAK,CAACX,IAAI,CAACa,UAAU,CAAC,CAACC,GAAG,CAAC,CAAG,CAAC,CAAC,CAClC,CACAH,KAAK,CAACX,IAAI,CAACa,UAAU,CAAC,CAACC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAGC,KAAK,CAC5C,CACF,CAAC,CACDE,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAACxB,UAAU,CAACyB,OAAO,CAAGV,KAAK,EAAK,CACtCA,KAAK,CAACJ,MAAM,CAAG,SAAS,CAC1B,CAAC,CAAC,CACDa,OAAO,CAACxB,UAAU,CAAC0B,SAAS,CAAE,CAACX,KAAK,CAAEC,MAAM,GAAK,CAChDD,KAAK,CAACJ,MAAM,CAAG,WAAW,CAC1BI,KAAK,CAACX,IAAI,CAAGY,MAAM,CAACK,OAAO,CAC7B,CAAC,CAAC,CACDG,OAAO,CAACxB,UAAU,CAAC2B,QAAQ,CAAE,CAACZ,KAAK,CAAEC,MAAM,GAAK,CAC/CD,KAAK,CAACJ,MAAM,CAAG,QAAQ,CACvBI,KAAK,CAACH,KAAK,CAAGI,MAAM,CAACJ,KAAK,CAACgB,OAAO,CACpC,CAAC,CAAC,CACDJ,OAAO,CAACnB,SAAS,CAACoB,OAAO,CAAGV,KAAK,EAAK,CACrCA,KAAK,CAACJ,MAAM,CAAG,QAAQ,CACzB,CAAC,CAAC,CACDa,OAAO,CAACnB,SAAS,CAACqB,SAAS,CAAE,CAACX,KAAK,CAAEC,MAAM,GAAK,CAC/CD,KAAK,CAACJ,MAAM,CAAG,WAAW,CAC1BI,KAAK,CAACX,IAAI,CAAGY,MAAM,CAACK,OAAO,CAC7B,CAAC,CAAC,CACDG,OAAO,CAACnB,SAAS,CAACsB,QAAQ,CAAE,CAACZ,KAAK,CAAEC,MAAM,GAAK,CAC9CD,KAAK,CAACJ,MAAM,CAAG,QAAQ,CACvBI,KAAK,CAACH,KAAK,CAAGI,MAAM,CAACJ,KAAK,CAACgB,OAAO,CACpC,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEd,UAAW,CAAC,CAAGN,UAAU,CAACqB,OAAO,CAEhD,cAAe,CAAArB,UAAU,CAACsB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}