{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { ROLES } from '../config/roles';\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    isAuthenticated: false,\n    userRole: null\n  },\n  reducers: {\n    loginSuccess: (state, action) => {\n      var _user$email;\n      const {\n        user,\n        authenticated,\n        userRole\n      } = action.payload;\n      state.user = user;\n      state.isAuthenticated = authenticated;\n\n      // Explicitly set role, defaulting to 'employee' if not provided\n      state.userRole = userRole || ((user === null || user === void 0 ? void 0 : (_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.toLowerCase()) === 'belyakovvladimirs@gmail.com' ? 'admin' : 'employee');\n    },\n    logout: state => {\n      state.user = null;\n      state.isAuthenticated = false;\n      state.userRole = null;\n    }\n  }\n});\nexport const {\n  loginSuccess,\n  logout\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","ROLES","authSlice","name","initialState","user","isAuthenticated","userRole","reducers","loginSuccess","state","action","_user$email","authenticated","payload","email","toLowerCase","logout","actions","reducer"],"sources":["C:/Users/belya/Cursor projects/Budget tracker/client/src/store/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { ROLES } from '../config/roles';\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    user: null,\r\n    isAuthenticated: false,\r\n    userRole: null\r\n  },\r\n  reducers: {\r\n    loginSuccess: (state, action) => {\r\n      const { user, authenticated, userRole } = action.payload;\r\n      \r\n      state.user = user;\r\n      state.isAuthenticated = authenticated;\r\n      \r\n      // Explicitly set role, defaulting to 'employee' if not provided\r\n      state.userRole = userRole || \r\n        (user?.email?.toLowerCase() === 'belyakovvladimirs@gmail.com' \r\n          ? 'admin' \r\n          : 'employee');\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n      state.isAuthenticated = false;\r\n      state.userRole = null;\r\n    }\r\n  }\r\n});\r\n\r\nexport const { loginSuccess, logout } = authSlice.actions;\r\nexport default authSlice.reducer; "],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,iBAAiB;AAEvC,MAAMC,SAAS,GAAGF,WAAW,CAAC;EAC5BG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,IAAI,EAAE,IAAI;IACVC,eAAe,EAAE,KAAK;IACtBC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAY,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAAA,IAAAC,WAAA;MAC/B,MAAM;QAAEP,IAAI;QAAEQ,aAAa;QAAEN;MAAS,CAAC,GAAGI,MAAM,CAACG,OAAO;MAExDJ,KAAK,CAACL,IAAI,GAAGA,IAAI;MACjBK,KAAK,CAACJ,eAAe,GAAGO,aAAa;;MAErC;MACAH,KAAK,CAACH,QAAQ,GAAGA,QAAQ,KACtB,CAAAF,IAAI,aAAJA,IAAI,wBAAAO,WAAA,GAAJP,IAAI,CAAEU,KAAK,cAAAH,WAAA,uBAAXA,WAAA,CAAaI,WAAW,CAAC,CAAC,MAAK,6BAA6B,GACzD,OAAO,GACP,UAAU,CAAC;IACnB,CAAC;IACDC,MAAM,EAAGP,KAAK,IAAK;MACjBA,KAAK,CAACL,IAAI,GAAG,IAAI;MACjBK,KAAK,CAACJ,eAAe,GAAG,KAAK;MAC7BI,KAAK,CAACH,QAAQ,GAAG,IAAI;IACvB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEE,YAAY;EAAEQ;AAAO,CAAC,GAAGf,SAAS,CAACgB,OAAO;AACzD,eAAehB,SAAS,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}